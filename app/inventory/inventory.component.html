<div>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <a href="#" *ngIf="!showAdd" (click)="showAdd = true" class="btn btn-icon btn-base fa-plus-square-o"><span>Add Coffee</span></a>
                <a href="#" *ngIf="showAdd" (click)="showAdd = false" class="btn btn-icon btn-light btn-sm fa-minus-square-o"><span>Cancel</span></a>
            </div>
            <div class="col-md-3">
                <input class="search" type="search" placeholder="Filter ;)" [(ngModel)]="filter"/>
            </div> 
            <div class="col-md-3">
                <label>Order 
                <select [(ngModel)]="orderBy">
                    <option value="name">Name</option>
                    <option value="roaster">Roaster</option>
                    <option value="roast">Roast</option>
                    <option value="amountAsc">Least to Most</option>
                    <option value="amountDesc">Most to Least</option>
                </select>
                </label>
            </div>           
        </div>
        <div class="row">
            <div class="col-md-12">
                <div *ngIf="showAdd">
                    <div class="wp-block default user-form">
                        <div class="form-header">
                            <h4>Add new coffee</h4>
                        </div>
                        <input [(ngModel)]=newCoffee.name placeholder="Name"/>
                        <input [(ngModel)]=newCoffee.roaster placeholder="Roaster"/>
                        <input [(ngModel)]=newCoffee.roast placeholder="Roast"/>
                        <input type="number" [(ngModel)]=newCoffee.amount placeholder="Amount"/>
                        <button (click)="addCoffee(newCoffee)">Add</button>
                        <button (click)="cancelAdd()">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div *ngFor="let currentCoffee of coffees | coffeefilter:filter | coffeeorder:orderBy" class="col-md-2" [id]="'coffee_' + currentCoffee.id" (mouseenter)="currentCoffee.showOptions = true" (mouseleave)="currentCoffee.showOptions = false">
                <div *ngIf="!currentCoffee.editMode" class="wp-block product">
                    <span *ngIf="currentCoffee.showOptions" class="wp-block-date-over">
                        <button class="btn btn-base btn-sm" (click)=goToEdit(currentCoffee)>Edit</button>
                    </span>
                    <figure>
                        <h4 class="product-title">{{currentCoffee.name}}</h4>
                    </figure>
                    <!--<h4 class="product-title">{{currentCoffee.name}}</h4>-->
                    <p>{{currentCoffee.roaster}}</p>
                    <div class="wp-block-footer">
                        <span class="pull-left">{{currentCoffee.roast}}</span>
                        <span class="pull-right price">{{currentCoffee.amount}} oz.</span>
                    </div> 
                   <!-- <div *ngIf="currentCoffee.showOptions" class="row edit-options">
                        <div class="col-md-6">
                            <button (click)="goToEdit(currentCoffee)">Edit</button>
                        </div>
                        <div class="col-md-6">
                            <button (click)="deleteCoffee(currentCoffee)">Delete</button>
                        </div>
                    </div>-->
                </div>
                <div *ngIf="currentCoffee.editMode" class="edit-pane container">
                    <div class="row" >
                        <div class="col-s-12">
                            <label>Name: <input type="text" [(ngModel)]="currentCoffee.name" /> </label> 
                        </div>
                        <div class="col-s-12">
                            <label>Roaster: <input type="text" [(ngModel)]="currentCoffee.roaster" /> </label> 
                        </div>
                        <div class="col-s-12">
                            <label>Roast: <input type="text" [(ngModel)]="currentCoffee.roast" /> </label> 
                        </div>
                        <div class="col-s-12">
                            <label>Amount: <input type="number" [(ngModel)]="currentCoffee.amount" /> </label> 
                        </div>
                    </div>                    
                    <button (click)="goToDisplay(currentCoffee)">Cancel</button>
                    <button (click)="updateCoffee(currentCoffee)">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>