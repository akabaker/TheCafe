<h1>{{title}}</h1>

<div>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div *ngIf="showAdd">
                    <input [(ngModel)]=newCoffee.name placeholder="Name"/>
                    <input [(ngModel)]=newCoffee.roaster placeholder="Roaster"/>
                    <input [(ngModel)]=newCoffee.roast placeholder="Roast"/>
                    <input type="number" [(ngModel)]=newCoffee.amount placeholder="Amount"/>
                    <button (click)="addCoffee(newCoffee)">Add</button>
                    <button (click)="cancelAdd()">Cancel</button>
                </div>
                <button *ngIf="!showAdd" (click)="showAdd = true">Add Coffee</button>
            </div>
            <div class="col-md-6">
                <input class="search" type="search" placeholder="Filter ;)" [(ngModel)]="filter"/>
            </div>            
        </div>
        <div class="row">
            <div *ngFor="let currentCoffee of coffees | coffeefilter:filter" class="col-md-2 coffee-pane" [id]="'coffee_' + currentCoffee.id">
                <div *ngIf="!currentCoffee.editMode" class="display-pane" (mouseenter)="currentCoffee.showOptions = true" (mouseleave)="currentCoffee.showOptions = false">
                    <div class="pane-title">{{currentCoffee.name}}</div>
                    <div class="pane-subtitle">{{currentCoffee.roaster}}</div>
                    <div class="row pane-details">
                        <div class="col-md-6">{{currentCoffee.roast}}</div>
                        <div class="col-md-6 text-right">{{currentCoffee.amount}} oz.</div>
                    </div> 
                    <div *ngIf="currentCoffee.showOptions" class="row edit-options">
                        <div class="col-md-6">
                            <button (click)="goToEdit(currentCoffee)">Edit</button>
                        </div>
                        <div class="col-md-6">
                            <button (click)="deleteCoffee(currentCoffee)">Delete</button>
                        </div>
                    </div>
                </div>
                <div *ngIf="currentCoffee.editMode" class="edit-pane">
                    Do some edits<br/>
                    <span>
                        <label>Name: <input type="text" [(ngModel)]="currentCoffee.name" /> </label> 
                    </span>
                    <button (click)="goToDisplay(currentCoffee)">Cancel</button>
                    <button>Save</button>
                </div>
            </div>
        </div>
    </div>
</div>